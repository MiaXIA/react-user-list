{"ast":null,"code":"import _classCallCheck from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/src/containers/Users/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getUsers } from '../../actions/users';\nimport UserRow from '../../components/UserRow';\nimport EnhancedTableHead from '../../components/EnhancedTableHead';\nimport EnhancedTableToolbar from '../../components/EnhancedTableToolbar';\nimport PropTypes from 'prop-types';\nimport { withStyle } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { lighten } from '@material-ui/core/styles/colorManipulator'; //Create User Button\n\nvar CreateButton = function CreateButton(props) {\n  return React.createElement(\"button\", {\n    onClick: function onClick() {\n      props.history.push('/create');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Create New User\");\n};\n\nvar CreateNewUserButton = withRouter(CreateButton); //Table\n\nvar counter = 0;\n\nfunction createData(firstname, lastname, sex, age) {\n  counter += 1;\n  return {\n    id: counter,\n    firstname: firstname,\n    lastname: lastname,\n    sex: sex,\n    age: age\n  };\n}\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  var stabilizedThis = array.map(function (el, index) {\n    return [el, index];\n  });\n  stabilizedThis.sort(function (a, b) {\n    var order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(function (el) {\n    return el[0];\n  });\n}\n\nfunction getSorting(order, orderBy) {\n  return order === \"desc\" ? function (a, b) {\n    return desc(a, b, orderBy);\n  } : function (a, b) {\n    return -desc(a, b, orderBy);\n  };\n}\n\nvar Users =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Users, _Component);\n\n  function Users() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Users)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: 'asc',\n      orderBy: 'firstname',\n      page: 0,\n      rowsPerPage: 5\n    };\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      var order = \"desc\";\n\n      if (_this.state.orderBy === property && _this.state.order === \"desc\") {\n        order = \"asc\";\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dispatch = this.props.dispatch;\n      dispatch(getUsers());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var users = this.props.users;\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page;\n      var emptyRows = rowsPerPage - Math.min(rowsPerPage, users.data.length - page * rowsPerPage);\n      var usersUI;\n\n      if (users.isLoading) {\n        usersUI = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Loading\");\n      } else if (users.error !== '') {\n        usersUI = React.createElement(\"p\", {\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, users.error);\n      } else if (users.data.length !== 0) {\n        usersUI = React.createElement(Paper, {\n          classNema: \"root\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(EnhancedTableToolbar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(CreateNewUserButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"tableWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(Table, {\n          className: \"materialTable\",\n          \"aria-labelledby\": \"tableTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(EnhancedTableHead, {\n          order: order,\n          orderBy: orderBy,\n          onRequestSort: this.handleRequestSort,\n          rowCount: users.data.length,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }), React.createElement(TableBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, stableSort(users.data, getSorting(order, orderBy)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (user) {\n          return React.createElement(TableRow, {\n            hover: true,\n            tabIndex: -1,\n            key: user._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(TableCell, {\n            component: \"th\",\n            scope: \"row\",\n            padding: \"none\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, user.firstname), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, user.lastname), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, user.sex), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, user.age), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }));\n        }), emptyRows > 0 && React.createElement(TableRow, {\n          style: {\n            height: 49 * emptyRows\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          colSpan: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }))))), React.createElement(TablePagination, {\n          component: \"div\",\n          count: users.data.length,\n          rowsPerPage: rowsPerPage,\n          page: page,\n          backIconButtonProps: {\n            \"aria-label\": \"Previous Page\"\n          },\n          nextIconButtonProps: {\n            \"aria-label\": \"Next Page\"\n          },\n          onChangePage: this.handleChangePage,\n          onChangeRowsPerPage: this.handleChangeRowsPerPage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, usersUI);\n    }\n  }]);\n\n  return Users;\n}(Component);\n\nUsers.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.users\n  };\n};\n\nexport default connect(mapStateToProps)(Users);","map":{"version":3,"sources":["/Users/mc.xia/Desktop/JS培训/Projects/project1/frontend/src/containers/Users/index.js"],"names":["React","Component","connect","withRouter","getUsers","UserRow","EnhancedTableHead","EnhancedTableToolbar","PropTypes","withStyle","Table","TableBody","TableCell","TableRow","TablePagination","TableSortLabel","Typography","Paper","Tooltip","lighten","CreateButton","props","history","push","CreateNewUserButton","counter","createData","firstname","lastname","sex","age","id","desc","a","b","orderBy","stableSort","array","cmp","stabilizedThis","map","el","index","sort","order","getSorting","Users","state","page","rowsPerPage","handleRequestSort","event","property","setState","handleChangePage","handleChangeRowsPerPage","target","value","dispatch","users","emptyRows","Math","min","data","length","usersUI","isLoading","error","color","slice","user","_id","height","propTypes","classes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\n\nimport {getUsers} from '../../actions/users';\n\nimport UserRow from '../../components/UserRow';\nimport EnhancedTableHead from '../../components/EnhancedTableHead';\nimport EnhancedTableToolbar from '../../components/EnhancedTableToolbar';\n\nimport PropTypes from 'prop-types';\nimport { withStyle } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\n//Create User Button\nconst CreateButton = props => {\n    return (\n        <button\n            onClick={() => {\n                props.history.push('/create');\n            }}>\n            Create New User  \n        </button>\n    );\n};\nconst CreateNewUserButton = withRouter(CreateButton);\n\n//Table\nlet counter = 0;\nfunction createData(firstname, lastname, sex, age) {\n    counter += 1;\n    return { id: counter, firstname, lastname, sex, age };\n}\n\nfunction desc(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n      }\n      if (b[orderBy] > a[orderBy]) {\n        return 1;\n      }\n      return 0;\n}\n\nfunction stableSort(array, cmp) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = cmp(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy) {\n    return order === \"desc\"\n    ? (a, b) => desc(a, b, orderBy)\n    : (a, b) => -desc(a, b, orderBy);\n}\n\nclass Users extends Component {\n    state = {\n        order: 'asc',\n        orderBy: 'firstname',\n        page: 0,\n        rowsPerPage: 5\n    };\n\n    componentDidMount() {\n        const { dispatch } = this.props;\n        dispatch(getUsers());\n    }\n\n    handleRequestSort = (event, property) => {\n        const orderBy = property;\n        let order = \"desc\";\n        if (this.state.orderBy === property && this.state.order === \"desc\") {\n            order = \"asc\";\n        }\n        this.setState({ order, orderBy });\n    };\n\n    handleChangePage = (event, page) => {\n        this.setState({ page });\n    };\n\n    handleChangeRowsPerPage = event => {\n        this.setState({ rowsPerPage: event.target.value });\n    };\n\n\n    render() {\n        const { users } = this.props;\n        const { order, orderBy, rowsPerPage, page } = this.state;\n        const emptyRows = rowsPerPage - Math.min(rowsPerPage, users.data.length - page * rowsPerPage);\n        let usersUI;\n\n        if(users.isLoading) {\n            usersUI = <p>Loading</p>;\n        } else if (users.error !== '') {\n            usersUI = <p style={{color: 'red'}}>{users.error}</p>\n        } else if (users.data.length !== 0) {\n            usersUI = (\n                <Paper classNema='root'>\n                    <EnhancedTableToolbar>\n                     <CreateNewUserButton />\n                    </EnhancedTableToolbar>\n                    <div className = 'tableWrapper'>\n                        <Table className = 'materialTable' aria-labelledby=\"tableTitle\">\n                            <EnhancedTableHead\n                                order = {order}\n                                orderBy = {orderBy}\n                                onRequestSort = {this.handleRequestSort}\n                                rowCount = {users.data.length}\n                            />\n                            <TableBody>\n                                {stableSort(users.data, getSorting(order, orderBy))\n                                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    .map(user => {\n                                        return (\n                                            <TableRow\n                                                hover\n                                                tabIndex = {-1}\n                                                key = {user._id}\n                                            >\n                                                <TableCell component=\"th\" scope=\"row\" padding=\"none\">\n                                                    {user.firstname}\n                                                </TableCell>\n                                                <TableCell numeric>{user.lastname}</TableCell>\n                                                <TableCell numeric>{user.sex}</TableCell>\n                                                <TableCell numeric>{user.age}</TableCell>\n                                                <TableCell numeric />\n                                                <TableCell numeric />\n                                            </TableRow>\n                                        );\n                                    })}\n                                    {emptyRows > 0 && (\n                                        <TableRow style={{ height: 49 * emptyRows }}>\n                                        <TableCell colSpan={6} />\n                                    </TableRow>\n                                    )}\n                            </TableBody>\n                        </Table>\n                    </div>\n                    <TablePagination\n                        component='div'\n                        count = {users.data.length}\n                        rowsPerPage = {rowsPerPage}\n                        page = {page}\n                        backIconButtonProps={{\n                            \"aria-label\": \"Previous Page\"\n                        }}\n                        nextIconButtonProps={{\n                            \"aria-label\": \"Next Page\"\n                        }}\n                        onChangePage = {this.handleChangePage}\n                        onChangeRowsPerPage = {this.handleChangeRowsPerPage}\n                    />\n                </Paper>\n            );\n        }\n        return (\n            <div className='wrapper'>\n                {usersUI}\n            </div>\n        );\n    }\n}\n\nUsers.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => {\n    return {\n        users: state.users\n    };\n};\n\nexport default connect(mapStateToProps)(Users);"]},"metadata":{},"sourceType":"module"}