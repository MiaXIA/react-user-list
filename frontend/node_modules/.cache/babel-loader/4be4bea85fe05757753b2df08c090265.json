{"ast":null,"code":"import _classCallCheck from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/src/containers/Users/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getUsers } from '../../actions/users';\nimport UserRow from '../../components/UserRow';\nimport EnhancedTableHead from '../../components/EnhancedTableHead';\nimport EnhancedTableToolbar from '../../components/EnhancedTableToolbar';\nimport PropTypes from 'prop-types';\nimport { withStyle } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { lighten } from '@material-ui/core/styles/colorManipulator'; //Create User Button\n\nvar CreateButton = function CreateButton(props) {\n  return React.createElement(\"button\", {\n    onClick: function onClick() {\n      props.history.push('/create');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"Create New User\");\n};\n\nvar CreateNewUserButton = withRouter(CreateButton); //Table\n\nvar counter = 0;\n\nfunction createData(firstname, lastname, sex, age) {\n  counter += 1;\n  return {\n    id: counter,\n    firstname: firstname,\n    lastname: lastname,\n    sex: sex,\n    age: age\n  };\n}\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  var stabilizedThis = array.map(function (el, index) {\n    return [el, index];\n  });\n  stabilizedThis.sort(function (a, b) {\n    var order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(function (el) {\n    return el[0];\n  });\n}\n\nfunction getSorting(order, orderBy) {\n  return order === \"desc\" ? function (a, b) {\n    return desc(a, b, orderBy);\n  } : function (a, b) {\n    return -desc(a, b, orderBy);\n  };\n}\n\nvar Users =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Users, _Component);\n\n  function Users() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Users)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: 'asc',\n      orderBy: 'firstname',\n      page: 0,\n      rowsPerPage: 5\n    };\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      var order = \"desc\";\n\n      if (_this.state.orderBy === property && _this.state.order === \"desc\") {\n        order = \"asc\";\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dispatch = this.props.dispatch;\n      dispatch(getUsers());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          users = _this$props.users,\n          classes = _this$props.classes;\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page;\n      var emptyRows = rowsPerPage - Math.min(rowsPerPage, users.length - page * rowsPerPage);\n      var usersUI;\n\n      if (users.isLoading) {\n        usersUI = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Loading\");\n      } else if (users.error !== '') {\n        usersUI = React.createElement(\"p\", {\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, users.error);\n      } else if (users.data.length !== 0) {\n        usersUI = React.createElement(Paper, {\n          classNema: \"root\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(EnhancedTableToolbar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }), React.createElement(Table, {\n          \"aria-labelledby\": \"tableTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(EnhancedTableHead, {\n          order: order,\n          orderBy: orderBy,\n          onRequestSort: this.handleRequestSort,\n          rowCount: users.data.length,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(TableBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, users.data.map(function (user) {\n          return React.createElement(UserRow, {\n            key: user._id,\n            user: user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          });\n        }))), React.createElement(CreateNewUserButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"User List\"), usersUI);\n    }\n  }]);\n\n  return Users;\n}(Component);\n\nUsers.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.users\n  };\n};\n\nexport default connect(mapStateToProps)(Users);","map":{"version":3,"sources":["/Users/mc.xia/Desktop/JS培训/Projects/project1/frontend/src/containers/Users/index.js"],"names":["React","Component","connect","withRouter","getUsers","UserRow","EnhancedTableHead","EnhancedTableToolbar","PropTypes","withStyle","Table","TableBody","TablePagination","TableSortLabel","Typography","Paper","Tooltip","lighten","CreateButton","props","history","push","CreateNewUserButton","counter","createData","firstname","lastname","sex","age","id","desc","a","b","orderBy","stableSort","array","cmp","stabilizedThis","map","el","index","sort","order","getSorting","Users","state","page","rowsPerPage","handleRequestSort","event","property","setState","handleChangePage","handleChangeRowsPerPage","target","value","dispatch","users","classes","emptyRows","Math","min","length","usersUI","isLoading","error","color","data","user","_id","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\n\nimport {getUsers} from '../../actions/users';\n\nimport UserRow from '../../components/UserRow';\nimport EnhancedTableHead from '../../components/EnhancedTableHead';\nimport EnhancedTableToolbar from '../../components/EnhancedTableToolbar';\n\nimport PropTypes from 'prop-types';\nimport { withStyle } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\n//Create User Button\nconst CreateButton = props => {\n    return (\n        <button\n            onClick={() => {\n                props.history.push('/create');\n            }}>\n            Create New User  \n        </button>\n    );\n};\nconst CreateNewUserButton = withRouter(CreateButton);\n\n//Table\nlet counter = 0;\nfunction createData(firstname, lastname, sex, age) {\n    counter += 1;\n    return { id: counter, firstname, lastname, sex, age };\n}\n\nfunction desc(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n      }\n      if (b[orderBy] > a[orderBy]) {\n        return 1;\n      }\n      return 0;\n}\n\nfunction stableSort(array, cmp) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = cmp(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy) {\n    return order === \"desc\"\n    ? (a, b) => desc(a, b, orderBy)\n    : (a, b) => -desc(a, b, orderBy);\n}\n\nclass Users extends Component {\n    state = {\n        order: 'asc',\n        orderBy: 'firstname',\n        page: 0,\n        rowsPerPage: 5\n    };\n\n    componentDidMount() {\n        const { dispatch } = this.props;\n        dispatch(getUsers());\n    }\n\n    handleRequestSort = (event, property) => {\n        const orderBy = property;\n        let order = \"desc\";\n        if (this.state.orderBy === property && this.state.order === \"desc\") {\n            order = \"asc\";\n        }\n        this.setState({ order, orderBy });\n    };\n\n    handleChangePage = (event, page) => {\n        this.setState({ page });\n    };\n\n    handleChangeRowsPerPage = event => {\n        this.setState({ rowsPerPage: event.target.value });\n    };\n\n\n    render() {\n        const { users, classes } = this.props;\n        const { order, orderBy, rowsPerPage, page } = this.state;\n        const emptyRows = rowsPerPage - Math.min(rowsPerPage, users.length - page * rowsPerPage);\n        let usersUI;\n\n        if(users.isLoading) {\n            usersUI = <p>Loading</p>;\n        } else if (users.error !== '') {\n            usersUI = <p style={{color: 'red'}}>{users.error}</p>\n        } else if (users.data.length !== 0) {\n            usersUI = (\n                <Paper classNema='root'>\n                    <EnhancedTableToolbar />\n                    <Table aria-labelledby=\"tableTitle\">\n                        <EnhancedTableHead\n                            order = {order}\n                            orderBy = {orderBy}\n                            onRequestSort = {this.handleRequestSort}\n                            rowCount = {users.data.length}\n                        />\n                        <TableBody>\n                            {users.data.map(user => {\n                                return (\n                                    <UserRow\n                                        key = {user._id}\n                                        user = {user}\n                                    />\n                                );\n                            })}\n                        </TableBody>\n                    </Table>\n                    <CreateNewUserButton />\n                </Paper>\n            );\n        }\n        return (\n            <div>\n                <h3>User List</h3>\n                {usersUI}\n            </div>\n        );\n    }\n}\n\nUsers.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => {\n    return {\n        users: state.users\n    };\n};\n\nexport default connect(mapStateToProps)(Users);"]},"metadata":{},"sourceType":"module"}