{"ast":null,"code":"import _classCallCheck from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mc.xia/Desktop/JS\\u57F9\\u8BAD/Projects/project1/frontend/src/containers/Edit/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport './index.css';\n\nvar Button = function Button(props) {\n  return React.createElement(\"button\", {\n    onClick: function onClick() {\n      props.history.push('/users');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, \"Return to User List\");\n};\n\nvar WithRouterButton = withRouter(Button);\n\nvar EditUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditUser, _Component);\n\n  function EditUser(props) {\n    var _this;\n\n    _classCallCheck(this, EditUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditUser).call(this, props));\n\n    _this.handleSexChange = function (e) {\n      _this.setState({\n        sex: e.target.value\n      });\n    };\n\n    _this.handleAgeChange = function (e) {\n      _this.setState({\n        age: e.target.value\n      });\n    };\n\n    _this.handlePassWordChange = function (e) {\n      _this.setState({\n        psWord: e.target.value\n      });\n    };\n\n    _this.handleRepeatChange = function (e) {\n      _this.setState({\n        repeat: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.state.psWord === _this.state.repeat) {\n        axios.put(\"http://localhost:4000/api/users/updateone/\".concat(_this.props.match.params.username), _this.state).then(function (response) {\n          alert(\"The user information has been updated!\");\n        }).catch(function (err) {\n          alert(err);\n        });\n      } else {\n        alert(\"Password didn't match!\");\n      }\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(EditUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:4000/api/users/getone/\".concat(this.props.match.params.username)).then(function (response) {\n        var data = response.data;\n\n        _this2.setState({\n          firstname: data.firstname,\n          lastname: data.lastname,\n          sex: data.sex,\n          age: data.age\n        });\n      }).catch(function (err) {\n        alert(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"First Name\", React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.firstname,\n        unselectable: \"on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Last Name\", React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.lastname,\n        unselectable: \"on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Sex\", React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.sex,\n        onChange: this.handleSexChange,\n        placeholder: \"Sex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Age\", React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.age,\n        onChange: this.handleAgeChange,\n        placeholder: \"Age\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Password\", React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.psWord,\n        onChange: this.handlePassWordChange,\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Repeat Password\", React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.repeat,\n        onChange: this.handleRepeatChange,\n        placeholder: \"Repeat Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))), React.createElement(WithRouterButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return EditUser;\n}(Component);\n\nexport default EditUser;","map":{"version":3,"sources":["/Users/mc.xia/Desktop/JS培训/Projects/project1/frontend/src/containers/Edit/index.js"],"names":["React","Component","withRouter","axios","Button","props","history","push","WithRouterButton","EditUser","handleSexChange","e","setState","sex","target","value","handleAgeChange","age","handlePassWordChange","psWord","handleRepeatChange","repeat","handleSubmit","preventDefault","state","put","match","params","username","then","response","alert","catch","err","get","data","firstname","lastname"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport axios from 'axios';\n\nimport './index.css';\n\nconst Button = props => {\n    return (\n        <button\n            onClick={() => {\n                props.history.push('/users');\n            }}>\n            Return to User List    \n        </button>\n    );\n};\nconst WithRouterButton = withRouter(Button);\n\nclass EditUser extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n        axios\n            .get(`http://localhost:4000/api/users/getone/${this.props.match.params.username}`)\n            .then(response => {\n                const data = response.data;\n                this.setState({firstname: data.firstname, lastname: data.lastname, sex: data.sex, age: data.age});\n            })\n            .catch(err => {\n                alert(err);\n            });\n    }\n\n    handleSexChange = e => {\n        this.setState({sex: e.target.value});\n    }\n\n    handleAgeChange = e => {\n        this.setState({age: e.target.value});\n    }\n\n    handlePassWordChange = e => {\n        this.setState({psWord: e.target.value});\n    }\n\n    handleRepeatChange = e => {\n        this.setState({repeat: e.target.value});\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        if(this.state.psWord === this.state.repeat) {\n            axios\n                .put(`http://localhost:4000/api/users/updateone/${this.props.match.params.username}`, this.state)\n                .then(response => {\n                    alert(\"The user information has been updated!\");\n                })\n                .catch(err => {\n                    alert(err);\n                });\n        } else {\n            alert(\"Password didn't match!\");\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <div>\n                        <label>\n                            First Name\n                            <input\n                                type='text'\n                                value={this.state.firstname}\n                                unselectable=\"on\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Last Name\n                            <input\n                                type='text'\n                                value={this.state.lastname}\n                                unselectable=\"on\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Sex\n                            <input\n                                type='text'\n                                value={this.state.sex}\n                                onChange={this.handleSexChange}\n                                placeholder=\"Sex\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Age\n                            <input\n                                type='text'\n                                value={this.state.age}\n                                onChange={this.handleAgeChange}\n                                placeholder=\"Age\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Password\n                            <input\n                                type='password'\n                                value={this.state.psWord}\n                                onChange={this.handlePassWordChange}\n                                placeholder=\"Password\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Repeat Password\n                            <input\n                                type='password'\n                                value={this.state.repeat}\n                                onChange={this.handleRepeatChange}\n                                placeholder=\"Repeat Password\"\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <input type='submit' value='submit' />\n                    </div>\n                </form>\n                <WithRouterButton />\n            </div>\n        )\n    }\n}\n\nexport default EditUser;"]},"metadata":{},"sourceType":"module"}